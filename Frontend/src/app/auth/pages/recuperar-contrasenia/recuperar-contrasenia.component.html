<body class="bg-gray-900 flex items-center justify-center min-h-screen">
  <div class="form-container p-8 rounded-lg shadow-md w-full max-w-md bg-white">
    <h2 class="text-2xl font-bold mb-6 text-center text-gray-800">
      Recuperación de Contraseña
    </h2>
    <form [formGroup]="formulario" (ngSubmit)="obtener2FA()">
      <!-- Correo Electrónico -->
      <div class="mb-4 input-group">
        <label for="correo" class="block text-gray-700 font-medium mb-2"
          >Correo Electrónico</label
        >
        <input
          type="email"
          id="correo"
          formControlName="correo"
          class="w-full p-2 border border-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-black"
          placeholder="Ingrese su correo electrónico"
          [(ngModel)]="this.correoElectronico"
        />
        <div class="text-red-500">
          <div>El correo es requerido.</div>
          <div>Debe ser un correo electrónico válido.</div>
        </div>
      </div>

      <!-- Nueva Contraseña -->
      <div *ngIf="this.sinCodigo === false">
        <div
          *ngIf="this.generarContrasenia === false && this.sinCodigo === false"
        >
          <label for="correo" class="block text-gray-700 font-medium mb-2"
            >Codigo de verificacion</label
          >
          <input
            type="text"
            id="codigo"
            formControlName="codigo"
            class="w-full p-2 border border-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-black"
            placeholder="Ingrese su correo electrónico"
            [(ngModel)]="this.codigo"
          />
          <button
            class="w-full px-4 py-2 bg-blue-500 text-white font-semibold rounded-md hover:bg-blue-600 focus:outline-none focus:ring-4 focus:ring-blue-300"
            (click)="this.verificar2FA()"
          >
            Verificacion de codigo
          </button>
        </div>
        <div
          *ngIf="this.generarContrasenia === true && this.sinCodigo === false"
        >
          <div class="mb-4 input-group">
            <label
              for="nuevaContrasenia"
              class="block text-gray-700 font-medium mb-2"
              >Nueva Contraseña</label
            >
            <input
              type="password"
              id="nuevaContrasenia"
              formControlName="nuevaContrasenia"
              class="w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-black"
              placeholder="Ingrese su nueva contraseña"
            />
            <div class="text-red-500">
              <div>La contraseña es requerida.</div>
              <div>La contraseña debe tener al menos 8 caracteres.</div>
            </div>
          </div>

          <!-- Confirmar Nueva Contraseña -->
          <div class="mb-4 input-group">
            <label
              for="confirmarContrasenia"
              class="block text-gray-700 font-medium mb-2"
              >Confirmar Contraseña</label
            >
            <input
              type="password"
              id="confirmarContrasenia"
              formControlName="confirmarContrasenia"
              class="w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-black"
              placeholder="Confirme su nueva contraseña"
            />
            <div class="text-red-500">
              <div>La confirmación de contraseña es requerida.</div>
              <div>La contraseña debe tener al menos 8 caracteres.</div>
            </div>
          </div>
          <button
            class="w-full px-4 py-2 bg-blue-500 text-white font-semibold rounded-md hover:bg-blue-600 focus:outline-none focus:ring-4 focus:ring-blue-300"
            (click)="this.cambioCredencial()"
          >
            Generar nuevas credenciales
          </button>
        </div>
      </div>
      <div *ngIf="this.sinCodigo === true">
        <button
          class="w-full px-4 py-2 bg-blue-500 text-white font-semibold rounded-md hover:bg-blue-600 focus:outline-none focus:ring-4 focus:ring-blue-300"
          (click)="this.obtener2FA()"
        >
          Recuperar Contraseña
        </button>
      </div>
    </form>
  </div>
</body>
